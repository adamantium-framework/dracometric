# DRACO METRIC API Configuration
# Copy this file to .env and adjust the values as needed

# =============================================================================
# API URLs
# =============================================================================
# NordVPN API endpoint (base URL without query parameters)
NORDVPN_API_URL=https://api.nordvpn.com/v1/servers

# Surfshark API endpoint
SURFSHARK_API_URL=https://api.surfshark.com/v3/server/clusters

# =============================================================================
# Cache Settings
# =============================================================================
# Cache TTL in seconds (default: 300 = 5 minutes)
CACHE_TTL=300

# =============================================================================
# HTTP Client Settings
# =============================================================================
# Request timeout in seconds
HTTP_TIMEOUT=30.0

# Maximum number of concurrent connections
HTTP_MAX_CONNECTIONS=100

# Maximum number of keepalive connections
HTTP_MAX_KEEPALIVE_CONNECTIONS=20

# =============================================================================
# API Limits
# =============================================================================
# Maximum number of servers to fetch from NordVPN (0 = unlimited / fetch all)
NORDVPN_SERVER_LIMIT=0

# Default page size for paginated responses
DEFAULT_PAGE_SIZE=100

# Maximum allowed page size
MAX_PAGE_SIZE=1000

# =============================================================================
# Security Settings - CORS
# =============================================================================
# Allowed origins for CORS (comma-separated list in JSON format)
# Production: Set to your actual frontend domains
# Development: Use localhost with appropriate ports
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]

# Allow credentials in CORS requests
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# Security Settings - API Authentication
# =============================================================================
# Enable API key authentication (true/false)
ENABLE_API_KEY_AUTH=false

# API keys (comma-separated list in JSON format)
# Generate strong random keys: openssl rand -hex 32
# Example: API_KEYS=["key1","key2","key3"]
API_KEYS=[]

# =============================================================================
# Security Settings - Rate Limiting
# =============================================================================
# Enable rate limiting (true/false)
RATE_LIMIT_ENABLED=true

# Number of requests allowed per period
RATE_LIMIT_REQUESTS=100

# Time period in seconds
RATE_LIMIT_PERIOD=60

# =============================================================================
# Security Settings - Headers
# =============================================================================
# Enable security headers (X-Content-Type-Options, X-Frame-Options, etc.)
ENABLE_SECURITY_HEADERS=true

# =============================================================================
# Logging
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=text

# =============================================================================
# Application Settings
# =============================================================================
# Application name
APP_NAME=DRACO METRIC

# Application version
APP_VERSION=1.0.0

# Debug mode (enables detailed error messages and auto-reload)
# WARNING: Never set to true in production!
DEBUG=false

# =============================================================================
# Trusted Proxies
# =============================================================================
# Trusted hosts for X-Forwarded-For header handling (JSON list)
# Only trust X-Forwarded-For from these IPs (reverse proxies)
TRUSTED_HOSTS=["127.0.0.1","::1"]

# =============================================================================
# Production Deployment Notes
# =============================================================================
# 1. Set DEBUG=false
# 2. Configure CORS_ORIGINS with your actual frontend domains
# 3. Enable API_KEY_AUTH and generate strong API keys
# 4. Adjust RATE_LIMIT_REQUESTS based on your needs
# 5. Set LOG_LEVEL=WARNING or ERROR to reduce log verbosity
# 6. Consider using LOG_FORMAT=json for better log parsing
# 7. Ensure ENABLE_SECURITY_HEADERS=true
